<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
<!-- End Google Tag Manager -->
  <title>Debugging &mdash; Vitis Video Analytics SDK (VVAS) for Data Center 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ" href="faq.html" />
    <link rel="prev" title="Device Management &amp; Utility tool" href="card_management.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="index.html" class="icon icon-home"> Vitis Video Analytics SDK (VVAS) for Data Center
            <img src="_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="system_requirements.html">Software &amp; Hardware Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_tutorial.html">Quickstart Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="features_and_capabilities.html">Features and Capabilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VVAS GStreamer Interface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="common/gstreamer_plugins/common_plugins.html">GStreamer Plug-ins</a></li>
<li class="toctree-l1"><a class="reference internal" href="common/meta_data/vvas_meta_data_structures.html">VVAS Meta Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="common/for_developers.html">Development Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VVAS Core API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">VVAS C API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_guide.html">VVAS C API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_examples.html">VVAS C API Samples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Information</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="vvas_build.html">Build and install from the VVAS source</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding_models.html">Supporting Deep Learning Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="card_management.html">Device Management &amp; Utility tool</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Debugging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#vvas-debugging">VVAS Debugging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gstreamer-logs">GStreamer logs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vvas-core-library-logs">vvas-core library logs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#to-syslog">To syslog</a></li>
<li class="toctree-l4"><a class="reference internal" href="#to-a-file">To a File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#to-console">To Console</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#setting-vvas-core-log-level">Setting VVAS_CORE Log Level</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#device-side-debugging">Device side debugging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Vitis Video Analytics SDK (VVAS) for Data Center</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Debugging</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/debugging.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="debugging">
<span id="device-debug-rst"></span><h1>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h1>
<div class="section" id="vvas-debugging">
<h2>VVAS Debugging<a class="headerlink" href="#vvas-debugging" title="Permalink to this headline">¶</a></h2>
<p>This section covers various debugging options available in VVAS.</p>
<div class="section" id="gstreamer-logs">
<h3>GStreamer logs<a class="headerlink" href="#gstreamer-logs" title="Permalink to this headline">¶</a></h3>
<p>VVAS relies on debugging tools supported by GStreamer framework. For more details, you may refer to <a class="reference external" href="https://gstreamer.freedesktop.org/documentation/tutorials/basic/debugging-tools.html?gi-language=c">GStreamer Debugging Tools</a></p>
</div>
<div class="section" id="vvas-core-library-logs">
<h3>vvas-core library logs<a class="headerlink" href="#vvas-core-library-logs" title="Permalink to this headline">¶</a></h3>
<p>VVAS GStreamer plug-ins are using different vvas-core libraries for different functionalities. Logs specific to each of these vvas-core libraries can be enabled/disabled. How to rout these to syslog, to a file or to the console is covered in the section below.
vvas-core library logs will be routed to one of the options mentioned below.</p>
<div class="section" id="to-syslog">
<h4>To syslog<a class="headerlink" href="#to-syslog" title="Permalink to this headline">¶</a></h4>
<p>If syslog is supported, this is the default destination for the logs. Logs will be routed to either <code class="docutils literal notranslate"><span class="pre">/var/log/syslog</span></code> or <code class="docutils literal notranslate"><span class="pre">/var/logs/messages</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure systemd or other logging service is running</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Syslog support currently not available in V70 platform.</p>
</div>
</div>
<div class="section" id="to-a-file">
<h4>To a File<a class="headerlink" href="#to-a-file" title="Permalink to this headline">¶</a></h4>
<p>If environment variable <code class="docutils literal notranslate"><span class="pre">VVAS_CORE_LOG_FILE_PATH</span></code> is set to file path then vvas-core logs will be routed to file provided.
if file path is invalid or unable to create file in the provided path due to permissions then logs will be routed to SYSLOG.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Example: export VVAS_CORE_LOG_FILE_PATH=$PWD/log.txt
</pre></div>
</div>
</div>
<div class="section" id="to-console">
<h4>To Console<a class="headerlink" href="#to-console" title="Permalink to this headline">¶</a></h4>
<p>If environment variable <code class="docutils literal notranslate"><span class="pre">VVAS_CORE_LOG_FILE_PATH</span></code> is set to “CONSOLE” then vvas-core logs will be routed to console.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Example: export VVAS_CORE_LOG_FILE_PATH=CONSOLE
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The current V70 docker container sets the <code class="docutils literal notranslate"><span class="pre">VVAS_CORE_LOG_FILE_PATH</span></code> to “CONSOLE” inside the setup file <code class="docutils literal notranslate"><span class="pre">docker_env_setup.sh</span></code>. Hence after sourcing that setup file VVAS core logs are routed to the console.</p>
</div>
</div>
</div>
<div class="section" id="setting-vvas-core-log-level">
<h3>Setting VVAS_CORE Log Level<a class="headerlink" href="#setting-vvas-core-log-level" title="Permalink to this headline">¶</a></h3>
<p>To set vvas_core log level for GStreamer based applications, GST_EXPORT should be set accordingly. Mapping between GStreamer log level and vvas-core library log level is as mentioned below.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>GStreamer Log level</p></th>
<th class="head"><p>vvas-core log level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GST_LEVEL_NONE, GST_LEVEL_ERROR</p></td>
<td><p>LOG_LEVEL_ERROR</p></td>
</tr>
<tr class="row-odd"><td><p>GST_LEVEL_WARNING, GST_LEVEL_FIXME</p></td>
<td><p>LOG_LEVEL_WARNING</p></td>
</tr>
<tr class="row-even"><td><p>GST_LEVEL_INFO</p></td>
<td><p>LOG_LEVEL_INFO</p></td>
</tr>
<tr class="row-odd"><td><p>Default</p></td>
<td><p>LOG_LEVEL_DEBUG</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="device-side-debugging">
<h2>Device side debugging<a class="headerlink" href="#device-side-debugging" title="Permalink to this headline">¶</a></h2>
<p>V70 device runs Petalinux on APU and to check the V70 device side logs, login to minicom and access device side Linux terminal. The steps are as below</p>
<ul class="simple">
<li><p>Install minicom on the host system (outside of the docker) using <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">minicom</span></code></p></li>
<li><p>Access V70 device via minicom using below command (run outside the docker on host system)</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo minicom -D /dev/ttyXRTUL1
</pre></div>
</div>
<ul class="simple">
<li><p>Serial device <code class="docutils literal notranslate"><span class="pre">ttyXRTUL1</span></code> is considering single Alveo card installed on the host</p></li>
<li><p>Once V70 device is accessible, one can use below handy commands for further debug in addition to normal Linux commands to see memory info, cpu info and dmesg.</p></li>
<li><p>To check if VDU soft kernels are installed and how many, lookout for skd in process status command</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ps -ef <span class="p">|</span> grep skd
</pre></div>
</div>
<ul class="simple">
<li><p>See VDU software control and soft kernel logs inside <code class="docutils literal notranslate"><span class="pre">/var/log/messages</span></code></p></li>
</ul>
</div>
</div>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="card_management.html" class="btn btn-neutral float-left" title="Device Management &amp; Utility tool" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="faq.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Advanced Micro Devices, Inc.
      <span class="lastupdated">Last updated on October 7, 2022.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>