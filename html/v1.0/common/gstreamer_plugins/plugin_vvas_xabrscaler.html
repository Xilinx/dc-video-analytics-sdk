<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
<!-- End Google Tag Manager -->
  <title>vvas_xabrscaler &mdash; Vitis Video Analytics SDK (VVAS) for Data Center 1.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="vvas_xinfer" href="plugin_vvas_xinfer.html" />
    <link rel="prev" title="vvas_xmetaaffixer" href="plugin_vvas_xmetaaffixer.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../index.html" class="icon icon-home"> Vitis Video Analytics SDK (VVAS) for Data Center
            <img src="../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../system_requirements.html">Software &amp; Hardware Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started_tutorial.html">Quickstart Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features_and_capabilities.html">Features and Capabilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VVAS GStreamer Interface</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="common_plugins.html">GStreamer Plug-ins</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="custom_plugins.html">Custom Plugins</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xmetaaffixer.html">vvas_xmetaaffixer</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">vvas_xabrscaler</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisite">Prerequisite</a></li>
<li class="toctree-l4"><a class="reference internal" href="#input-and-output">Input and Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="#control-parameters-and-plug-in-properties">Control Parameters and Plug-in Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-pipelines">Example Pipelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vvas-xabrscaler-with-software-scaling-kernel">vvas_xabrscaler with software scaling kernel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xinfer.html">vvas_xinfer</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xoptflow.html">vvas_xoptflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xoverlay.html">vvas_xoverlay</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xtracker.html">vvas_xtracker</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xskipframe.html">vvas_xskipframe</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xreorderframe.html">vvas_xreorderframe</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xmetaconvert.html">vvas_xmetaconvert</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xfunnel.html">vvas_xfunnel</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xdefunnel.html">vvas_xdefunnel</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xmulticrop.html">vvas_xmulticrop</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xcompositor.html">vvas_xcompositor</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_vvas_xvideodec.html">vvas_xvideodec</a></li>
<li class="toctree-l3"><a class="reference internal" href="vvas_bufferpool_and_allocator.html">VVAS Bufferpool &amp; Allocator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="infra_plugins.html">Infrastructure Plugins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../meta_data/vvas_meta_data_structures.html">VVAS Meta Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../for_developers.html">Development Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VVAS Core API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference.html">VVAS C API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_guide.html">VVAS C API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_examples.html">VVAS C API Samples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../vvas_build.html">Build and install from the VVAS source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../adding_models.html">Supporting Deep Learning Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../card_management.html">Device Management &amp; Utility tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Vitis Video Analytics SDK (VVAS) for Data Center</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="common_plugins.html">GStreamer Plug-ins</a> &raquo;</li>
          <li><a href="custom_plugins.html">Custom Plug-ins</a> &raquo;</li>
      <li>vvas_xabrscaler</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/common/gstreamer_plugins/plugin_vvas_xabrscaler.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="vvas-xabrscaler">
<span id="id1"></span><h1>vvas_xabrscaler<a class="headerlink" href="#vvas-xabrscaler" title="Permalink to this heading">¶</a></h1>
<p>There are certain situations where the available frame resolution and color format may not be suitable for the next component’s consumption. For instance, in machine learning applications, inputs can be sourced from different resolutions and color formats, but the ML models require fixed resolution and specific color formats. Thus, it becomes necessary to resize the input image to a different resolution and convert its color space, for example, to BGR.</p>
<p>In some adaptive bit rate (ABR) use cases, a single video is encoded at different bit rates to allow streaming under different network bandwidth conditions without artifacts. This requires the input frame to be decoded, resized to different resolutions, and then re-encoded. To accelerate these processes, <code class="docutils literal notranslate"><span class="pre">vvas_xabrscaler</span></code> is a GStreamer plug-in that can take one input frame and produce multiple output frames with different resolutions and color formats. This plug-in can also perform the <code class="docutils literal notranslate"><span class="pre">pre-processing</span></code> operations like mean subtraction, normalization, and cropping. For implementation details, please refer to <a class="reference external" href="https://github.com/Xilinx/VVAS/tree/master/vvas-gst-plugins/sys/abrscaler">vvas_xabrscaler source code</a>.</p>
<p>This plug-in supports:</p>
<ul class="simple">
<li><p>Single input, multiple output pads</p></li>
<li><p>Color space conversion</p></li>
<li><p>Resize</p></li>
<li><p>Each output pad has independent resolution and color space conversion capability.</p></li>
<li><p>Crop of input buffer</p></li>
</ul>
<div class="section" id="prerequisite">
<h2>Prerequisite<a class="headerlink" href="#prerequisite" title="Permalink to this heading">¶</a></h2>
<p>To use this plug-in, your hardware design must have the <code class="docutils literal notranslate"><span class="pre">image_processing</span></code> kernel available and it must be configured to support the required color formats and maximum resolution for your application. You can find the configuration details for the <code class="docutils literal notranslate"><span class="pre">image_processing</span></code> kernel, including the supported maximum resolution and color formats, in <a class="reference external" href="https://github.com/Xilinx/VVAS/blob/master/vvas-accel-hw/image_processing/image_processing_config.h">image-processing kernel config</a></p>
</div>
<div class="section" id="input-and-output">
<h2>Input and Output<a class="headerlink" href="#input-and-output" title="Permalink to this heading">¶</a></h2>
<p>This plug-in accepts buffers with the following color format standards:</p>
<ul class="simple">
<li><p>RGBx</p></li>
<li><p>YUY2</p></li>
<li><p>r210</p></li>
<li><p>Y410</p></li>
<li><p>NV16</p></li>
<li><p>NV12</p></li>
<li><p>RGB</p></li>
<li><p>v308</p></li>
<li><p>I422_10LE</p></li>
<li><p>GRAY8</p></li>
<li><p>NV12_10LE32</p></li>
<li><p>BGRx</p></li>
<li><p>GRAY10_LE32</p></li>
<li><p>BGRx</p></li>
<li><p>UYVY</p></li>
<li><p>BGR</p></li>
<li><p>RGBA</p></li>
<li><p>BGRA</p></li>
<li><p>I420</p></li>
<li><p>GBR</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Make sure that the color formats needed for your application are supported by the image-processing hardware kernel.</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">image_processing</span></code> kernel configuration, like maximum resolution supported, color formats etc. can be found in <a class="reference external" href="https://github.com/Xilinx/VVAS/blob/master/vvas-accel-hw/image_processing/image_processing_config.h">image-processing kernel config</a></p>
</div>
<div class="section" id="control-parameters-and-plug-in-properties">
<h2>Control Parameters and Plug-in Properties<a class="headerlink" href="#control-parameters-and-plug-in-properties" title="Permalink to this heading">¶</a></h2>
<p>The following table lists the GStreamer plug-in properties supported by the vvas_xabrscaler plug-in.</p>
<p>Table 1: vvas_xabrscaler Plug-in Properties</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 14%" />
<col style="width: 17%" />
<col style="width: 27%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Property Name</strong></p></th>
<th class="head"><p><strong>Type</strong></p></th>
<th class="head"><p><strong>Range</strong></p></th>
<th class="head"><p><strong>Default</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>avoid-output-copy</p></td>
<td><p>Boolean</p></td>
<td><p>true/false</p></td>
<td><p>False</p></td>
<td><p>Avoid output
frames copy on
all source pads
even when
downstream does
not support
GstVideoMeta
metadata</p></td>
</tr>
<tr class="row-odd"><td><p>enable-pipeline</p></td>
<td><p>Boolean</p></td>
<td><p>true/false</p></td>
<td><p>false</p></td>
<td><p>Enable buffer
pipelining to
improve
performance in
non zero-copy
use cases</p></td>
</tr>
<tr class="row-even"><td><p>in-mem-bank</p></td>
<td><p>Unsigned int</p></td>
<td><p>0 - 65535</p></td>
<td><p>0</p></td>
<td><p>VVAS input memory
bank to allocate
memory</p></td>
</tr>
<tr class="row-odd"><td><p>out-mem-bank</p></td>
<td><p>Unsigned int</p></td>
<td><p>0 - 65535</p></td>
<td><p>0</p></td>
<td><p>VVAS o/p memory
bank to allocate
memory</p></td>
</tr>
<tr class="row-even"><td><p>xclbin-location</p></td>
<td><p>string</p></td>
<td><p>N/A</p></td>
<td><p>NULL</p></td>
<td><p>The
location of
xclbin.</p></td>
</tr>
<tr class="row-odd"><td><p>kernel-name</p></td>
<td><p>string</p></td>
<td><p>N/A</p></td>
<td><p>image_processing:
{image_processing_1}</p></td>
<td><p>Kernel name
and
instance
separated
by a colon.</p></td>
</tr>
<tr class="row-even"><td><p>dev-idx</p></td>
<td><p>integer</p></td>
<td><p>-1 to 31</p></td>
<td><p>-1</p></td>
<td><p>Device index
This is valid
only in PCIe/
Data Center
platforms.
Default value is
set to -1
intentionally so
that user
provides the
correct device
index.</p></td>
</tr>
<tr class="row-odd"><td><p>ppc</p></td>
<td><p>integer</p></td>
<td><p>1, 2, 4</p></td>
<td><p>4</p></td>
<td><p>Pixel per
clock
supported
by the
image_processing
kernel</p></td>
</tr>
<tr class="row-even"><td><p>scale-mode</p></td>
<td><p>integer</p></td>
<td><p>0, 1, 2</p></td>
<td><p>0</p></td>
<td><p>Scale algorithm
to use:
0:BILINEAR
1:BICUBIC
2:POLYPHASE</p></td>
</tr>
<tr class="row-odd"><td><p>coef-load-type</p></td>
<td><p>integer</p></td>
<td><p>0 =&gt; Fixed
1 =&gt; Auto</p></td>
<td><p>1</p></td>
<td><p>Type of filter
Coefficients to
be used: Fixed
or Auto
generated</p></td>
</tr>
<tr class="row-even"><td><p>num-taps</p></td>
<td><p>integer</p></td>
<td><p>6=&gt;6 taps
8=&gt;8 taps
10=&gt;10 taps
12=&gt;12 taps</p></td>
<td><p>12</p></td>
<td><p>Number of filter
taps to be used
for scaling.
BILINEAR
scale-mode uses
2 taps.</p></td>
</tr>
<tr class="row-odd"><td><p>alpha-b</p></td>
<td><p>float</p></td>
<td><p>0 to 128</p></td>
<td><p>0</p></td>
<td><p>Mean subtraction
for blue channel
, needed for PPE</p></td>
</tr>
<tr class="row-even"><td><p>alpha-g</p></td>
<td><p>float</p></td>
<td><p>0 to 128</p></td>
<td><p>0</p></td>
<td><p>Mean subtraction
for green channel
, needed for PPE</p></td>
</tr>
<tr class="row-odd"><td><p>alpha-r</p></td>
<td><p>float</p></td>
<td><p>0 to 128</p></td>
<td><p>0</p></td>
<td><p>Mean subtraction
for red  channel
, needed for PPE</p></td>
</tr>
<tr class="row-even"><td><p>beta-b</p></td>
<td><p>float</p></td>
<td><p>0 to 1</p></td>
<td><p>1</p></td>
<td><p>Scaling for blue
channel, needed
for PPE</p></td>
</tr>
<tr class="row-odd"><td><p>beta-g</p></td>
<td><p>float</p></td>
<td><p>0 to 1</p></td>
<td><p>1</p></td>
<td><p>scaling for green
channel, needed
for PPE</p></td>
</tr>
<tr class="row-even"><td><p>beta-r</p></td>
<td><p>float</p></td>
<td><p>0 to 1</p></td>
<td><p>1</p></td>
<td><p>scaling for red
channel, needed
for PPE</p></td>
</tr>
<tr class="row-odd"><td><p>crop-x</p></td>
<td><p>unsigned
integer</p></td>
<td><p>0 to
4294967295</p></td>
<td><p>0</p></td>
<td><p>Crop X
coordinate</p></td>
</tr>
<tr class="row-even"><td><p>crop-y</p></td>
<td><p>unsigned
integer</p></td>
<td><p>0 to
4294967295</p></td>
<td><p>0</p></td>
<td><p>Crop Y
coordinate</p></td>
</tr>
<tr class="row-odd"><td><p>crop-width</p></td>
<td><p>unsigned
integer</p></td>
<td><p>0 to
4294967295</p></td>
<td><p>0</p></td>
<td><p>Crop width (
minimum: 16), if
this is 0 or not
set, it will be
calculated as
input width -
<cite>crop-x</cite></p></td>
</tr>
<tr class="row-even"><td><p>crop-height</p></td>
<td><p>unsigned
integer</p></td>
<td><p>0 to
4294967295</p></td>
<td><p>0</p></td>
<td><p>Crop height (
minimum: 16), if
this is 0 or not
set, it will be
calculated as
input height -
<cite>crop-y</cite></p></td>
</tr>
<tr class="row-odd"><td><p>software-scaling</p></td>
<td><p>Boolean</p></td>
<td><p>true/false</p></td>
<td><p>false</p></td>
<td><p>Enable software
scaling instead
of accelerated
scaling.</p></td>
</tr>
<tr class="row-even"><td><p>maintain-aspect-
ratio</p></td>
<td><p>Boolean</p></td>
<td><p>true/false</p></td>
<td><p>false</p></td>
<td><p>Maintains aspect
ratio in output
with the aspect
ratio of input
video.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Image-processing IP has some alignment requirement, hence user given parameters for crop are aligned as per the IP requirement, alignment ensures that it covers the region of crop specified by user, hence final cropped image may have extra pixels cropped.</p>
<p>The supported video formats being displayed in sink/src caps are the formats supported by <code class="docutils literal notranslate"><span class="pre">vvas-core</span></code> hardware(Image-processing) scaler.</p>
<p>This plugin queries pre-processing parameters (alpha and beta) from the downstream <code class="docutils literal notranslate"><span class="pre">vvas_xinfer</span></code> plugin (if available) and applies those pre-processing values. User can override the <code class="docutils literal notranslate"><span class="pre">vvas_xinfer</span></code> suggested values by setting the pre-processing gstreamer properties (alpha and beta properties).</p>
</div>
</div>
<div class="section" id="example-pipelines">
<h2>Example Pipelines<a class="headerlink" href="#example-pipelines" title="Permalink to this heading">¶</a></h2>
<p>The pipelines mentioned below is for PCIe/Data Center platform. For Embedded platform remove <strong>dev-idx</strong> property from the pipelines mentioned below.</p>
<div class="section" id="one-input-one-output">
<h3>One input one output<a class="headerlink" href="#one-input-one-output" title="Permalink to this heading">¶</a></h3>
<p>The below example configures vvas_xabrscaler in one input and one output mode. The input to the scaler is 1280 x 720, NV12 frames that are resized to 640 x 360 resolution, and the color format is changed from NV12 to BGR.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0 videotestsrc num-buffers=100 \
! &quot;video/x-raw, width=1280, height=720, format=NV12&quot; \
! vvas_xabrscaler dev-idx=&lt;device-index&gt; xclbin-location=&lt;xclbin-path&gt; kernel-name=image_processing:{image_processing_1} \
! &quot;video/x-raw, width=640, height=360, format=BGR&quot; ! fakesink -v
</pre></div>
</div>
</div>
<div class="section" id="one-input-multiple-output">
<h3>One input multiple output<a class="headerlink" href="#one-input-multiple-output" title="Permalink to this heading">¶</a></h3>
<p>The following example configures vvas_xabrscaler for one input and three outputs. The input is 1920 x 1080 resolution in NV12 format. There are three output formats:</p>
<ul class="simple">
<li><p>1280 x 720 in BGR format</p></li>
<li><p>300 x 300 in RGB format</p></li>
<li><p>640 x 480 in NV12 format</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0 videotestsrc num-buffers=100 \
! &quot;video/x-raw, width=1920, height=1080, format=NV12, framerate=60/1&quot; \
! vvas_xabrscaler dev-idx=&lt;device-index&gt; xclbin-location=&lt;xclbin-path&gt; kernel-name=image_processing:{image_processing_1} name=sc sc.src_0 \
! queue \
! &quot;video/x-raw, width=1280, height=720, format=BGR&quot; \
! fakesink sc.src_1 \
! queue \
! &quot;video/x-raw, width=300, height=300, format=RGB&quot; \
! fakesink sc.src_2 \
! queue \
! &quot;video/x-raw, width=640, height=480, format=NV12&quot; \
! fakesink -v
</pre></div>
</div>
</div>
<div class="section" id="crop-with-multiple-output">
<h3>Crop with multiple output:<a class="headerlink" href="#crop-with-multiple-output" title="Permalink to this heading">¶</a></h3>
<p>The following example configures <code class="docutils literal notranslate"><span class="pre">vvas_xabrscaler</span></code> for one input and three outputs. The input is 1920 x 1080 resolution in NV12 format.
This input is cropped at X:140, Y:300, Width:640, Height:480.</p>
<p>Cropped input is scaled and converted to below format:</p>
<ul class="simple">
<li><p>640 * 480 in RGB format</p></li>
<li><p>320 * 240 in RGB format</p></li>
<li><p>256 * 256 in NV12 format</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0 -v \
videotestsrc num-buffers=10 ! video/x-raw,format=NV12,width=1920,height=1080 \
! vvas_xabrscaler dev-idx=&lt;device-index&gt; xclbin-location=&lt;xclbin-path&gt; kernel-name=image_processing:{image_processing_1} crop-x=140 crop-y=300 crop-width=640 crop-height=480 name=sc \
sc.src_0 ! queue ! video/x-raw,format=RGB,width=640,height=480 ! filesink location=480p.yuv \
sc.src_1 ! queue ! video/x-raw,format=RGB,width=320,height=240 ! filesink location=240p.yuv \
sc.src_2 ! queue ! video/x-raw,format=NV12,width=256,height=256 ! filesink location=256p.yuv -v
</pre></div>
</div>
</div>
</div>
<div class="section" id="vvas-xabrscaler-with-software-scaling-kernel">
<h2>vvas_xabrscaler with software scaling kernel<a class="headerlink" href="#vvas-xabrscaler-with-software-scaling-kernel" title="Permalink to this heading">¶</a></h2>
<p>VVAS plugin “vvas_xabrscaler” can also work with software implementation of the IP. The same plugin can be used to invoke the software scaling functionality.
User needs to set few properties on “vvas_xabrscaler” plugin to invoke the software scaling, please refer the example pipeline mentioned below. The current release version
supports only fixed and 12 tap filter coefficients. Below are the formats supported by the current release version.</p>
<ul class="simple">
<li><p>NV12</p></li>
<li><p>RGB</p></li>
<li><p>GRAY8</p></li>
<li><p>BGR</p></li>
<li><p>I420</p></li>
</ul>
<p>Note: For GRAY8, only scaling is supported, cross format conversion is not supported.</p>
<div class="section" id="example-pipeline">
<h3>Example pipeline:<a class="headerlink" href="#example-pipeline" title="Permalink to this heading">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0  videotestsrc num-buffers=10  \
! video/x-raw, width=1920, height=1080, format=NV12  \
! vvas_xabrscaler kernel-name=&quot;image_processing_sw:{image_processing_sw_1}&quot; software-scaling=true coef-load-type=0 num-taps=12 \
! video/x-raw, width=1280, height=720, format=NV12 !  filesink location=output_sw_scale.nv12 -v
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plugin_vvas_xmetaaffixer.html" class="btn btn-neutral float-left" title="vvas_xmetaaffixer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="plugin_vvas_xinfer.html" class="btn btn-neutral float-right" title="vvas_xinfer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Advanced Micro Devices, Inc.
      <span class="lastupdated">Last updated on October 7, 2022.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>